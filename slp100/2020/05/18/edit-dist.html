<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Minimum Edit Distance &amp; Backtracing alignment | Murali Manohar Daily Tracker</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Minimum Edit Distance &amp; Backtracing alignment" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Finding minimum edit distance through Dynamic Programming" />
<meta property="og:description" content="Finding minimum edit distance through Dynamic Programming" />
<link rel="canonical" href="https://gitlost-murali.github.io/daily-report/slp100/2020/05/18/edit-dist.html" />
<meta property="og:url" content="https://gitlost-murali.github.io/daily-report/slp100/2020/05/18/edit-dist.html" />
<meta property="og:site_name" content="Murali Manohar Daily Tracker" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-18T00:00:00-05:00" />
<script type="application/ld+json">
{"url":"https://gitlost-murali.github.io/daily-report/slp100/2020/05/18/edit-dist.html","@type":"BlogPosting","headline":"Minimum Edit Distance &amp; Backtracing alignment","dateModified":"2020-05-18T00:00:00-05:00","datePublished":"2020-05-18T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://gitlost-murali.github.io/daily-report/slp100/2020/05/18/edit-dist.html"},"description":"Finding minimum edit distance through Dynamic Programming","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/daily-report/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://gitlost-murali.github.io/daily-report/feed.xml" title="Murali Manohar | Daily Tracker" /><link rel="shortcut icon" type="image/x-icon" href="/daily-report/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/daily-report/">Murali Manohar | Daily Tracker</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/daily-report/about/">About Me</a><a class="page-link" href="/daily-report/search/">Search</a><a class="page-link" href="/daily-report/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Minimum Edit Distance &amp; Backtracing alignment</h1><p class="page-description">Finding minimum edit distance through Dynamic Programming</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-05-18T00:00:00-05:00" itemprop="datePublished">
        May 18, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/daily-report/categories/#slp100">slp100</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#edit-distance">Edit Distance</a>
<ul>
<li class="toc-entry toc-h2"><a href="#string-similarity">String Similarity</a></li>
<li class="toc-entry toc-h2"><a href="#edit-distance-1">Edit Distance</a></li>
<li class="toc-entry toc-h2"><a href="#computing-minimum-edit-distance">Computing Minimum Edit Distance</a>
<ul>
<li class="toc-entry toc-h3"><a href="#using-dp-for-edit-distance">Using DP for Edit Distance</a></li>
<li class="toc-entry toc-h3"><a href="#alignments">Alignments</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#references">References:</a></li>
</ul>
</li>
</ul><h1 id="edit-distance">
<a class="anchor" href="#edit-distance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Edit Distance</h1>

<h2 id="string-similarity">
<a class="anchor" href="#string-similarity" aria-hidden="true"><span class="octicon octicon-link"></span></a>String Similarity</h2>

<p>Much of NLP use-cases spectrum require similarity b/w two strings. This can be considered at two levels,</p>

<ol>
  <li>Character level (Spelling Correction): User entered word <code class="language-plaintext highlighter-rouge">graffe</code> would probably mean <code class="language-plaintext highlighter-rouge">giraffe</code> rather than <code class="language-plaintext highlighter-rouge">grail</code> or <code class="language-plaintext highlighter-rouge">coffee</code> by assuming that <code class="language-plaintext highlighter-rouge">giraffe</code> is just a character away.</li>
  <li>Word Level (Coreference Resolution): Strings <code class="language-plaintext highlighter-rouge">Hollywood director James</code> and <code class="language-plaintext highlighter-rouge">Hollywood movie director James</code> refer to the same entity. The fact that these differ only by a single word can be used as evidence to decide if these strings are coherent or not.</li>
</ol>

<h2 id="edit-distance-1">
<a class="anchor" href="#edit-distance-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Edit Distance</h2>

<p><strong>Edit Distance</strong> provides a way to quantify the assumptions on string similarities. Specifically, minimum edit distance is the minimum number of operations needed to transform one string to another. Edit distance is inversely proportional to the similarity of strings.</p>

<p><strong>Cost of operations</strong>: To transform one word to another, three operations are used. Namely, <code class="language-plaintext highlighter-rouge">insert, delete, substitute</code>. We can assign different costs to each operation. Levenstein, in his alternate version, suggested removing <code class="language-plaintext highlighter-rouge">substitute</code> operation, thereby meaning <code class="language-plaintext highlighter-rouge">substitute = delete + insert</code>. If insert, delete have a cost 1, substitute would have a cost 2 for execution.</p>

<p><strong>Solution Space</strong>: Solution space to transform one word to another is huge. Moreover, it is possible that two paths might have the same outcome despite diff paths. We don’t want to exhaust our compute power iterating over all possibilities. Therefore, Dynamic programming is used to find optimal path and edit distance.</p>

<h2 id="computing-minimum-edit-distance">
<a class="anchor" href="#computing-minimum-edit-distance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Computing Minimum Edit Distance</h2>

<p>Dynamic programming is a tabled-based method used to solve large problems by combining solutions of sub-problems. The intituition is that a large problem can be solved by properly combining the solutions to various sub-problems.</p>

<h3 id="using-dp-for-edit-distance">
<a class="anchor" href="#using-dp-for-edit-distance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using DP for Edit Distance</h3>

<p>Given a source string <code class="language-plaintext highlighter-rouge">X</code> of length <code class="language-plaintext highlighter-rouge">n</code> and target <code class="language-plaintext highlighter-rouge">Y</code> of length m, when we say various sub-problems, we mean all possible conversions i.e Transforming all source sub-strings $X[0..i]$ (where $0&lt;=i&lt;=n$) to target sub-strings $Y[0..j]$ ( where $0&lt;=j&lt;=m$). D[i,j] is the edit distance b/w $X[0..i]$ &amp; $Y[0..j]$. Minimum edit distance for X,Y is D[n,m].</p>

<p>Let’s consider the following case,</p>

<p>X = “intention”
Y = “execution”</p>

<p>For sub-problems like $D[i,0]$, cost involved is <code class="language-plaintext highlighter-rouge">i</code> as there are <code class="language-plaintext highlighter-rouge">i</code> delete operations involved to reach the target string <code class="language-plaintext highlighter-rouge">""</code> (null). Similarly, for $D[0,j]$, cost involved is <code class="language-plaintext highlighter-rouge">j</code> since it’d require <code class="language-plaintext highlighter-rouge">j</code> insert operations to transform an empty string into the one with <code class="language-plaintext highlighter-rouge">j</code> characters.</p>

<p>If the above made statement didn’t make sense, try it out with few samples,</p>

<table>
  <tbody>
    <tr>
      <td><strong>Sub-Problem</strong></td>
      <td><strong>Src -&gt; Tgt</strong></td>
      <td><strong>Operations involved</strong></td>
    </tr>
    <tr>
      <td>D[0,0]</td>
      <td>”” -&gt; “”</td>
      <td>0</td>
    </tr>
    <tr>
      <td>D[0,1]</td>
      <td>”” -&gt; “e”</td>
      <td>1 insert operation</td>
    </tr>
    <tr>
      <td>D[0,2]</td>
      <td>”” -&gt; “ex”</td>
      <td>2 insert operations</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>D[0,j]</td>
      <td> </td>
      <td>
<strong>j</strong> insert operations</td>
    </tr>
    <tr>
      <td>D[1,0]</td>
      <td>“i” -&gt; “”</td>
      <td>1 delete operation</td>
    </tr>
    <tr>
      <td>D[2,0]</td>
      <td>“in” -&gt; “”</td>
      <td>2 delete operations</td>
    </tr>
    <tr>
      <td>…</td>
      <td>…</td>
      <td> </td>
    </tr>
    <tr>
      <td>D[i,0]</td>
      <td> </td>
      <td>
<strong>i</strong> delete operations</td>
    </tr>
  </tbody>
</table>

<p>Next, let’s scale up to other sub-problems</p>

<p>For, <code class="language-plaintext highlighter-rouge">D[1,1]</code>, i.e, <code class="language-plaintext highlighter-rouge">"i"</code> (src) $=&gt;$ <code class="language-plaintext highlighter-rouge">"e"</code> (tgt), the operations would be <code class="language-plaintext highlighter-rouge">delete i &amp; insert e</code>. It can also be considered in terms of 3 possible paths i.e through 3 sub-problems,</p>

<ol>
  <li>Through D[0,1], i.e, <code class="language-plaintext highlighter-rouge">""</code> $=&gt;$ <code class="language-plaintext highlighter-rouge">"e"</code>, where we can add a insert operation <code class="language-plaintext highlighter-rouge">"i"</code> to <code class="language-plaintext highlighter-rouge">src</code> side and we will arrive at D[1,1].</li>
  <li>Through D[1,0], i.e, <code class="language-plaintext highlighter-rouge">"i"</code> $=&gt;$ <code class="language-plaintext highlighter-rouge">""</code>, where we can add a insert operation <code class="language-plaintext highlighter-rouge">"e"</code> to <code class="language-plaintext highlighter-rouge">tgt</code> side and we will arrive at D[1,1].</li>
  <li>Through D[0,0], i.e, <code class="language-plaintext highlighter-rouge">""</code> $=&gt;$ <code class="language-plaintext highlighter-rouge">""</code>, where we add a insert &amp; delete operation <code class="language-plaintext highlighter-rouge">"i"</code> to <code class="language-plaintext highlighter-rouge">src</code> and <code class="language-plaintext highlighter-rouge">"e"</code> to <code class="language-plaintext highlighter-rouge">tgt</code> side and we will arrive at D[1,1].</li>
</ol>

<p>When you repeat this several times,  a common pattern emerges:</p>

<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>D</mi><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>D</mi><mo stretchy="false">[</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo></mrow><annotation encoding="application/x-tex">D[i,j] = min(D[i-1, j]+1, D[i, j-1]+1, D[i-1, j-1]+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mord">+</span></span></span></span> (2 if source[i]!=target[j] else 0))</p>

<p>Using the above logic, we can get the Minimum Edit Distance for Source &amp; Target.</p>

<p><img src="/daily-report/images/blog3/edit-distance.png" alt="" title="Edit Distance Table computed using the algorithm. Reference: https://web.stanford.edu/~jurafsky/slp3/"></p>

<h3 id="alignments">
<a class="anchor" href="#alignments" aria-hidden="true"><span class="octicon octicon-link"></span></a>Alignments</h3>

<p>Minimum Edit Distance alone is not much useful. Alignments i.e which character in source word corresponds to which char in target words, are useful in applications like Machine Translation, Speech Translation, etc.</p>

<p>We can get the alignments by simply storing which neighboring sub-problem (refer to the logic above) had the minimum cost for each sub-problem.</p>

<h2 id="references">
<a class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References:</h2>

<ol>
  <li><a href="https://www.youtube.com/watch?v=WBcX8pbHAP4">Backtracing alignments</a></li>
  <li><a href="https://www.youtube.com/watch?v=kgcEaoM_QJA">Computing Minimum Edit Distance</a></li>
</ol>

  </div><a class="u-url" href="/daily-report/slp100/2020/05/18/edit-dist.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/daily-report/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/daily-report/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/daily-report/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Writing down what I read/learn everyday</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/gitlost-murali" title="gitlost-murali"><svg class="svg-icon grey"><use xlink:href="/daily-report/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/gitlostmurali" title="gitlostmurali"><svg class="svg-icon grey"><use xlink:href="/daily-report/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
